<!DOCTYPE html>
<html>
<head>
  <title>VocalEyes</title>
  <script src="jquery.min.js"></script>
  <script>
    $(document).ready(function() {
      // vars

      var wordBuilder = "";
      var sentenceBuilder = "";
      var sentenceLog = [];

      var appendWordToSentenceBuilder = function() {
        sentenceBuilder += wordBuilder + " ";
        wordBuilder = "";
      }

      var appendPunctToSentenceBuilder = function(punct) {
          // change to eliminate all trailing whitespace
      }

      var alpha;

      var aNode = {
        'values':['a','b','c','d','back'],
        'a':'a',
        'b':'b',
        'c':'c',
        'd':'d',
        'back':alpha
      }

      var eNode = {
        'values':['e','f','g','h','back'],
        'e':'e',
        'f':'f',
        'g':'g',
        'h':'h',
        'back':alpha
      }

      var iNode = {
        'values':['i','j','k','l','m','n','back'],
        'i':'i',
        'j':'j',
        'k':'k',
        'l':'l',
        'm':'m',
        'n':'n',
        'back':alpha
      }

      var oNode = {
        'values':['o','p','q','r','s','t','back'],
        'o':'o',
        'p':'p',
        'q':'q',
        'r':'r',
        's':'s',
        't':'t',
        'back':alpha
      }

      var uNode = {
        'values':['u','v','w','x','y','z','back'],
        'u':'u',
        'v':'v',
        'w':'w',
        'x':'x',
        'y':'y',
        'z':'z',
        'back':alpha
      }

      var punctNode = {
        'values':['.',',','?','!','back'],
        '.':'.',
        ',':',',
        '?':'?',
        '!':'!',
        'back':alpha
      }

      var functNode = {
        'values':['say','send','back'],
        'say':false,
        'send':false,
        'back':alpha
      }

      alpha = {
        'values':['a','e','i','o','u','_','!','<'],
        'a':aNode,
        'e':eNode,
        'i':iNode,
        'o':oNode,
        'u':uNode,
        '_':appendWordToSentenceBuilder,
        '!':punctNode,
        '<':functNode,
      }

      var currNode = alpha;
      var valueCounter = 0;

      var inputEvent = function() {
        console.log("input detected!");
        var currValue = currNode["values"][valueCounter];
        var valueSelected = currNode[currValue];
        switch(typeof valueSelected)
        {
          case "string":
            wordBuilder += valueSelected;
            currNode = alpha;
            console.log(wordBuilder);
            break;

          case "object":
            currNode = valueSelected;
            console.log(valueSelected)
            break;

          case "function":
            valueSelected();
            break;

          default:
            console.log("something went terribly wrong!");
        }
        
        valueCounter = 0;
      };

      // listeners
      $('body').keypress(function(e) {
        if(e.which == 32) { // space
          inputEvent();
        }
      });

      setInterval(function() {
        valueCounter = (valueCounter + 1) % currNode["values"].length;
        console.log(currNode["values"]);
        console.log(valueCounter);
      }, 1000);   
    });
  </script>
</head>
<body>

<h1>VocalEyes</h1>

<h3>Interface 1.0</h3>
<table id="interface-1.0">
  <tr id="row1"></tr>
  <tr id="row2"></tr>
</table>

<h3>Sentence Builder:</h3>
<p id="sentence-builder"></p>

<h3>Sentence Log:</h3>
<table id="sentence-log"></table>

</body>
</html>